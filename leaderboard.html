<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pirate Cash Leaderboard</title>
  <script>(function(){try{var q=new URLSearchParams(location.search),t=q.get('t');if(t){document.title=t}}catch(e){}})();</script>
  <link id="site-css" rel="stylesheet" type="text/css" href="styles.css?v=20251019">
</head>
<body class="leaderboard-page">
  <!-- Header (reuse same code as index.html) -->
  <header id="header">
    <div class="left-half">
        <nav>
      <ul>
        <li><a class="nav-button-logo" href="index.html">Goofball Games  <img src="goofballgames.png" alt="Goofball Games Logo" class="logo-img"></a></li>
        <li><a class="nav-button" href="shop.html">Shop</a></li>
                <li><a class="nav-button" href="leaderboard.html">Pirate Cash Leaderboard</a></li>
                <li><a class="nav-button" href="contact.html">Suggestions/Feedback</a></li>
                <li><a class="nav-button" href="about.html">About</a></li>
                
            </ul>
        </nav>
    </div>
  <div class="right-half">
    <a class="news-box" >
    </a>
  </div>
</header>
  <!-- Two side nav containers -->
  <main class="leaderboard-layout">
    <div class="side-nav left-nav">
      <div class="leaderboard-card">
        <h2>Top 25 Rich People</h2>

  <!-- Edit me: Add/remove entries below. The script will sort by Pirate Cash (desc) and render the top 25 with ranks. -->
  <!-- Example: <li data-name="Billy" data-cash="264" data-date="2025-10-01" data-url="https://www.youtube.com/watch?v=dQw4w9WgXcQ"></li> -->
        <ul id="leaderboard-data" class="leaderboard-data" hidden aria-hidden="true">
          <li data-name="Billy" data-cash="264" data-date="2025-10-01" data-url="https://www.youtube.com/watch?v=dQw4w9WgXcQ"></li>
        </ul>

        <div class="leaderboard-header">
          <div class="lb-head">Rank</div>
          <div class="lb-head">Name</div>
          <div class="lb-head">Pirate Cash</div>
          <div class="lb-head">Date</div>
        </div>

        <div id="leaderboard-rows" class="leaderboard-rows" role="list"></div>

        <!-- 26th spot: expandable submission info -->
        <button id="lb-expand-btn" class="lb-expand-btn" type="button" aria-expanded="false">
          How to submit your score
        </button>
        <div id="lb-submit" class="lb-submit" hidden>
          Email Connor with your name and a video of you counting your Pirate Bucks.
        </div>
      </div>
    </div>

    <div class="side-nav right-nav">
      <div class="lb-info-card">
        <img class="lb-side-image" src="goofballgames.png" alt="Goofball Games Pirate Cash" />
        <h3 class="lb-info-title">About the Leaderboard</h3>
        <p>
          This is the leaderboard of Pirate cash, which is Topsail Middle School's currency. Later we will do events with this.
        </p>
        <p>
          You can submit an entry by recording yourself counting your pirate bucks and sending it to connor.
        </p>
      </div>
    </div>
  </main>
  <script src="news-loader.js"></script>
  <script src="header-loader.js"></script>
  <script src="leaderboard.js"></script>
  <script>
    // CSS load health check: if the stylesheet didn't apply, try reloading with a fresh cache buster
    (function() {
      function cssLoaded() {
        var cs = getComputedStyle(document.documentElement).getPropertyValue('--gg-css-loaded');
        return cs && cs.trim() === '1';
      }
      function bustAndReload() {
        var link = document.getElementById('site-css');
        if (!link) return;
        var href = link.getAttribute('href').split('?')[0];
        link.setAttribute('href', href + '?v=' + Date.now());
      }
      function injectFallback() {
        var s = document.createElement('style');
        s.setAttribute('data-fallback', 'true');
        s.textContent = `
          body { background:#322424; color:#eee; font-family:Arial,sans-serif; margin:0; }
          .leaderboard-layout { display:flex; gap:20px; margin:20px; flex-wrap:wrap; }
          .side-nav { background:#f5f5f5; color:#111; border-radius:12px; padding:16px; box-shadow:0 5px 15px rgba(0,0,0,0.25); width:100%; }
          @media (min-width: 900px){ .side-nav { width:48%; } }
          .leaderboard-card, .lb-info-card { background:#fff; border-radius:12px; padding:12px; box-shadow:0 6px 16px rgba(0,0,0,0.18); }
          .leaderboard-header, .lb-row { display:grid; grid-template-columns:56px 1fr 120px 140px; gap:8px; align-items:center; }
          .leaderboard-header { background:#f6f3f3; border:1px solid #eee; border-radius:10px; padding:8px 10px; font-weight:700; }
          .leaderboard-rows { margin-top:8px; display:flex; flex-direction:column; gap:8px; }
          .lb-row { background:#fff; border:1px solid #eee; border-radius:10px; padding:8px 10px; }
          .lb-expand-btn { display:block; width:100%; background:#821510; color:#fff; border:none; border-radius:10px; padding:10px; margin-top:10px; font-weight:800; }
        `;
        document.head.appendChild(s);
        console.warn('Fallback styles injected (primary stylesheet missing or blocked).');
      }
      if (!cssLoaded()) {
        // give it one more tick in case the CSS is still streaming
        setTimeout(function() {
          if (!cssLoaded()) {
            bustAndReload();
            // check again after cache-bust swap; if still not applied, inject minimal fallback
            setTimeout(function(){ if (!cssLoaded()) injectFallback(); }, 250);
          }
        }, 150);
      }
    })();
  </script>
  <div id="floating-text">
  <a href="shop.html">Funded by Puffpaff Shop</a>
</div>
</body>
</html>
